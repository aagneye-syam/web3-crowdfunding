"use strict";
"use client";
Object.defineProperty(exports, "__esModule", { value: true });
exports.useDrawer = exports.DrawerOverlay = exports.drawerOpenAnimation = exports.DrawerContainer = exports.Drawer = void 0;
const jsx_runtime_1 = require("react/jsx-runtime");
const react_1 = require("@emotion/react");
const react_icons_1 = require("@radix-ui/react-icons");
const react_2 = require("react");
const CustomThemeProvider_js_1 = require("../design-system/CustomThemeProvider.js");
const animations_js_1 = require("../design-system/animations.js");
const elements_js_1 = require("../design-system/elements.js");
const index_js_1 = require("../design-system/index.js");
const Modal_js_1 = require("./Modal.js");
const buttons_js_1 = require("./buttons.js");
/**
 *
 * @internal
 */
exports.Drawer = (0, react_2.forwardRef)(function Drawer_(props, ref) {
    return ((0, jsx_runtime_1.jsx)(jsx_runtime_1.Fragment, { children: (0, jsx_runtime_1.jsxs)(exports.DrawerContainer, { ref: ref, children: [(0, jsx_runtime_1.jsx)(Modal_js_1.CrossContainer, { children: (0, jsx_runtime_1.jsx)(buttons_js_1.IconButton, { type: "button", "aria-label": "Close", onClick: props.close, children: (0, jsx_runtime_1.jsx)(react_icons_1.Cross2Icon, { width: index_js_1.iconSize.md, height: index_js_1.iconSize.md, style: {
                                color: "inherit",
                            } }) }) }), props.children] }) }));
});
exports.DrawerContainer = (0, elements_js_1.StyledDiv)(() => {
    const theme = (0, CustomThemeProvider_js_1.useCustomTheme)();
    return {
        zIndex: 10000,
        padding: index_js_1.spacing.lg,
        borderTopLeftRadius: index_js_1.radius.xl,
        borderTopRightRadius: index_js_1.radius.xl,
        background: theme.colors.modalBg,
        position: "absolute",
        bottom: 0,
        left: 0,
        right: 0,
        animation: `${exports.drawerOpenAnimation} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.1)`,
        borderTop: `1px solid ${theme.colors.borderColor}`,
    };
});
exports.drawerOpenAnimation = (0, react_1.keyframes) `
  from {
    opacity: 0;
    transform: translateY(100px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
`;
exports.DrawerOverlay = (0, elements_js_1.StyledDiv)(() => {
    const theme = (0, CustomThemeProvider_js_1.useCustomTheme)();
    return {
        backgroundColor: theme.colors.modalOverlayBg,
        zIndex: 9999,
        position: "absolute",
        inset: 0,
        animation: `${animations_js_1.fadeInAnimation} 400ms cubic-bezier(0.16, 1, 0.3, 1)`,
    };
});
/**
 *
 * @internal
 */
function useDrawer() {
    const drawerRef = (0, react_2.useRef)(null);
    const drawerOverlayRef = (0, react_2.useRef)(null);
    const onClose = (closeDrawer) => {
        if (drawerRef.current) {
            const animOptions = {
                easing: "cubic-bezier(0.175, 0.885, 0.32, 1.1)",
                fill: "forwards",
                duration: 300,
            };
            const closeAnimation = drawerRef.current.animate([{ transform: "translateY(100%)", opacity: 0 }], animOptions);
            drawerOverlayRef.current?.animate([{ opacity: 0 }], animOptions);
            closeAnimation.onfinish = closeDrawer;
        }
        else {
            closeDrawer();
        }
    };
    return {
        drawerRef,
        drawerOverlayRef,
        onClose,
    };
}
exports.useDrawer = useDrawer;
//# sourceMappingURL=Drawer.js.map