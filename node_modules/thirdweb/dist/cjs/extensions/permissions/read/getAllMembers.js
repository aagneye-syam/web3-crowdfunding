"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.getAllRoleMembers = void 0;
const getRoleMember_js_1 = require("../__generated__/IPermissionsEnumerable/read/getRoleMember.js");
const getRoleMemberCount_js_1 = require("../__generated__/IPermissionsEnumerable/read/getRoleMemberCount.js");
const utils_js_1 = require("../utils.js");
/**
 * Retrieves all members of a specific role.
 *
 * @param options - The options for retrieving role members.
 * @returns A promise that resolves to an array of strings representing the role members.
 * @extension PERMISSIONS
 *
 * @example
 * ```ts
 * import { getAllRoleMembers } from "thirdweb/extensions/permissions";
 *
 * const result = await getAllRoleMembers({
 *  contract,
 *  role: "admin",
 * });
 * ```
 */
async function getAllRoleMembers(options) {
    const roleHash = (0, utils_js_1.getRoleHash)(options.role);
    const count = await (0, getRoleMemberCount_js_1.getRoleMemberCount)({
        contract: options.contract,
        role: roleHash,
    });
    const promises = [];
    for (let i = 0n; i < count; i++) {
        promises.push((0, getRoleMember_js_1.getRoleMember)({ contract: options.contract, role: roleHash, index: i }));
    }
    return Promise.all(promises);
}
exports.getAllRoleMembers = getAllRoleMembers;
//# sourceMappingURL=getAllMembers.js.map