"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.hexlifyUserOp = exports.randomNonce = void 0;
const viem_1 = require("viem");
const hex_js_1 = require("../../../utils/encoding/hex.js");
const generateRandomUint192 = () => {
    const rand1 = BigInt(Math.floor(Math.random() * 0x100000000));
    const rand2 = BigInt(Math.floor(Math.random() * 0x100000000));
    const rand3 = BigInt(Math.floor(Math.random() * 0x100000000));
    const rand4 = BigInt(Math.floor(Math.random() * 0x100000000));
    const rand5 = BigInt(Math.floor(Math.random() * 0x100000000));
    const rand6 = BigInt(Math.floor(Math.random() * 0x100000000));
    return ((rand1 << BigInt(160)) |
        (rand2 << BigInt(128)) |
        (rand3 << BigInt(96)) |
        (rand4 << BigInt(64)) |
        (rand5 << BigInt(32)) |
        rand6);
};
/**
 * @internal
 */
const randomNonce = () => {
    return BigInt((0, viem_1.concat)([(0, hex_js_1.numberToHex)(generateRandomUint192()), "0x0000000000000000"]));
};
exports.randomNonce = randomNonce;
/**
 * @internal
 */
function hexlifyUserOp(userOp) {
    return Object.fromEntries(Object.entries(userOp).map(([key, val]) => [
        key,
        // turn any value that's not hex into hex
        (0, hex_js_1.isHex)(val) ? val : (0, hex_js_1.toHex)(val),
    ]));
}
exports.hexlifyUserOp = hexlifyUserOp;
//# sourceMappingURL=utils.js.map